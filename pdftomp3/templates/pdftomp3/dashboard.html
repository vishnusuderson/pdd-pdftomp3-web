{% extends 'pdftomp3/layout.html'%}
{% block title %}
{% load custom_filters %}
<title>Dashboard</title>
{% endblock title %}
{% block main %}
            <!-- Main Content -->
            <main class="p-4  ">
                <!-- Overview Section -->
                <div class="mb-4">
                    <div class="d-flex justify-content-between align-items-center mb-3">
                        <h2 class="h5 mb-0">Overview</h2>
                    </div>
                    
                    
                    <div class="row g-6">
                        <div class="col-md-3">
                            <div class="d-flex align-items-center gap-3">
                                <div class="bg-purple rounded-circle p-3">
                                    <i class="bi bi-file-text text-white"></i>
                                </div>
                                <div>
                                    <p class="small text-muted mb-0">Total Files</p>
                                    <p class="h5 mb-0">{{ total_files }}</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="d-flex align-items-center gap-3">
                                <div class="bg-orange rounded-circle p-3">
                                    <i class="bi bi-headphones text-white"></i>
                                </div>
                                <div>
                                    <p class="small text-muted mb-0">Pdf files</p>
                                    <p class="h5 mb-0">{{ total_pdfs }}</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="d-flex align-items-center gap-3">
                                <div class="bg-yellow rounded-circle p-3">
                                    <i class="bi bi-file-music text-white"></i>
                                </div>
                                <div>
                                    <p class="small text-muted mb-0">Mp3 converted</p>
                                    <p class="h5 mb-0">{{ total_mp3s }}</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Recent Files Section -->
                 <hr>
                 <div class="row g-3">
                    <div class="col-2">
                        <a href="{% url 'single_upload' %}">
                            <button class="upload-btn">
                            <span class="display-6 text-muted">+</span>
                        </button></a>
                    </div>
                    {% for i in pdf %}
                    <div class="col-2" ><a href="{% url 'preview_pdf' pdf_id=i.id %}">
                        <div class="placeholder-box" style="background: url('https://picsum.photos/id/{{i.id}}/200/300');"></div></a>{{i.title|truncate_words}}</div>
                    {% endfor %}
                </div>
                <hr>
                <!-- Audio Files Section -->
                <div>
                    <h3 class="h5 mb-3">Audio files</h3>
                    <div class="row g-4">
                       {% for mp3 in mp3_files %}
                        <div class="col-md-3 col-sm-6">
                            <div class="audio-card" >
                                <div class="audio-thumbnail" style="background: url('https://picsum.photos/id/{{mp3.id}}/200/300'); background-size:100% 100%;">
                                    <button class="play-btn">
                                        <i class="bi bi-play-fill"></i>
                                    </button>
                                </div>
                                <p class="small text-danger mb-0 mt-2">{{ mp3.title|truncate_words }}</p>
                                <p class="small fw-medium mb-0">{{ mp3.date }}</p>
                            </div>
                        </div>
                        {% endfor %}
                        </div>
                    </div>
                </div>
            </main>
{% endblock main %}
      